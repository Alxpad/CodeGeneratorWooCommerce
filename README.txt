
---Description---

This program generates an unique code after each purchase. This code will generate an unique hash, linked to the order code, and both are stored in "code" table.
The user will receive a mail, with a button heading to an preset URL. This URL calls for a check from the page, using AJAX.

Server will check through GET method if the visit code and hash match with the recorded ones in the database.
If this is the case, it is up to the programmer what comes next.

The javascript code is included as well, into "JS" folder. This code is the one to be included in the site.

----------- Specifications:

- Wordpress 6.3
- WooCommerce  8.0.2

------------------ How to deploy:

1. Create a new table for the codes generated. Set "connect.php" up with correspondent access data.
2. Copy the functions inside "functions_code.php" into "functions.php" in your Wordpress theme.
3. Copy the "php" folder into your theme main folder.
4. Copy the "emails" folder into WooCommerce plugin folder. This folder contains the template that WooCommerce will use, instead the default template.
5. Create the page that will check the codes once the user logs in. Use there the script included in JS_page.js. This script will request the server to check the code provided by the user
through AJAX request.

--------------- How does it works

1. Inmediately after a purchase is complete, WooCommerce will call the "woocommerce_thankyou" hook. The function inside "functions_code.php" ignites the proccess.
2. The program will inmediately pick up the order ID, use a hashIt() function to generate an unique hash, and store it in codes table.
3. The email template will includes a generated link which leads to a page, folowed by a code and a hash variables (The ones generated by the user).
4. The page visited automatically checks out if the code and hash are correct, through AJAX request.
5. What happens next, is up to the programmer. The original function showed up a form, restricted only to users provided with a correct code.
